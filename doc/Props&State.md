#React 里 props 和 state 
###组件的概念
简化的组件模型：所谓组件，其实就是**状态机器**

React将用户界面看做简单的状态机器。当组件处于某个状态时，那么就输出这个状态对应的界面。通过这种方式，就很容易去保证界面的一致性。

这种组件模型简化了我们思考的方式：**对组件的管理就是对状态的管理**。

组件是React中构建用户界面的基本单位。它们和外界的交互除了状态（state）之外，还有就是属性（props）。**事实上，状态更多的是一个组件内部去自己维护，而属性则由外部在初始化这个组件时传递进来（一般是组件需要管理的数据）。React认为属性应该是只读的，一旦赋值过去后就不应该变化。**

除了props之外，组件还有一个很重要的概念：state。组件规范中定义了setState方法，每次调用时都会更新组件的状态，触发render方法。和props不同，state是组件的内部状态，除了初始化时可能由props来决定，之后就完全由组件自身去维护。在组件的整个生命周期中，React强烈不推荐去修改自身的props，因为这会破坏UI和Model的一致性，props只能够由使用者来决定。

由于 this.props 和 this.state 都用于描述组件的特性，可能会产生混淆。**一个简单的区分方法是，this.props 表示那些一旦定义，就不再改变的特性，而 this.state 是会随着用户互动而产生变化的特性。**

**尝试把尽可能多的组件无状态化** 这样做能隔离 state，把它放到最合理的地方，也能减少冗余，同时易于解释程序运作过程。

常用的模式是创建多个只负责渲染数据的无状态（stateless）组件，在它们的上层创建一个有状态（stateful）组件并把它的状态通过 props 传给子级。这个有状态的组件封装了所有用户的交互逻辑，而这些无状态组件则负责声明式地渲染数据。

###课程实例讲解
首先明确几个知识点：
1. props 是由父组件传递给子组件的数据集合，props是只读的不能修改的；
2. state 可理解为组件内一种自给自足的数据集合，只有组件自己可以改变自己的 state；
3. this.props 表示那些一旦定义，就不再改变的特性，而 this.state 是会随着用户互动而产生变化的特性；
4. 数据是从上到下（父组件到子组件）单向流动的，且只能传递 props 不能传递 state；
5. 组件就是状态机，组件的 props 和 state 决定了该组件最终会如何渲染；
6. state 和 props 的改变都会触发组件重新渲染；

再来看看我们要实现的事件列表该如何构建，首先对其进行拆分，每个事件行（TodoRow）就是一个子组件，子组件可实现通过点击来切换是否完成的状态，所有事件行构成事件列表（TodoList）即父组件；事件行的内容（props.content）和初始完成状态(props.done)由父组件传递进来，这里就产生了一个矛盾，props.done 决定了子组件是否完成的状态，但 props.done 是无法被修改的，就无法实现点击切换是否完成的状态，因此我们必须把父组件传递给我们的 props.done 转化为子组件的 state，通过以下代码实现

    getInitialState: function(){
        return {done: this.props.done}
    },

将 props.done 作为初始 state.done 的值，这样子组件就能通过改变自己的 state 来改变事件是否完成的状态了。


